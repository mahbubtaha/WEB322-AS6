<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/main.css" />

    <title>Mahbub Taha's Store</title>
  </head>
  <body>
    <nav class="nav-container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <a class="nav-logo" href="/">
        <p class="nav-logo">Mahbub Taha's Store</p>
      </a>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <ul class="nav-menu-wrapper">
        {{#navLink "/shop"}}Shop{{/navLink}}
        {{#navLink "/about"}}About{{/navLink}}
      </ul>
      
      {{#if session.user}}
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="userMenu" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-fill"></i>&nbsp;&nbsp;{{session.user.userName}}&nbsp;&nbsp;
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu">
          <li><a class="dropdown-item" href="/userHistory">User History</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/logout">Log Out</a></li>
        </ul>
      </div>
      <ul class="nav navbar-nav navbar-right ms-3">
        {{#navLink "/items"}}Items{{/navLink}}
        {{#navLink "/categories"}}Categories{{/navLink}}
      </ul>
      {{else}}
      <div class="navbar-nav ms-auto d-flex flex-row gap-2">
        <a href="/register" class="btn btn-success"><i class="bi bi-person-plus-fill"></i>&nbsp;&nbsp;Register</a>
        <a href="/login" class="btn btn-primary"><i class="bi bi-box-arrow-in-right"></i>&nbsp;&nbsp;Log In</a>
      </div>
      {{/if}}
      <!-- /.navbar-collapse -->
    </nav>

    <main class="main-container">
      <aside class="main-aside">
        <h2>Coming Soon</h2>
        <p>Stay tuned for future updatesâ€¦</p>
      </aside>
      {{{body}}}
    </main>
    <!-- FOOTER -->
    <footer>
      <p>
        Coming Soon by <strong>Mahbub Taha</strong>
      </p>
    </footer>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
      // Initialize all dropdowns
      document.addEventListener('DOMContentLoaded', function() {
        var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'));
        var dropdownList = dropdownElementList.map(function(dropdownToggleEl) {
          return new bootstrap.Dropdown(dropdownToggleEl);
        });
      });
    </script>
  </body>
</html>